(self.webpackChunkproject_x=self.webpackChunkproject_x||[]).push([[18],{616:()=>{jQuery.event.special.doubletap={bindType:"touchend",delegateType:"touchend",handle:function(e){var t=e.handleObj,i=jQuery.data(e.target),o=(new Date).getTime(),n=i.lastTouch?o-i.lastTouch:0,r=null==r?300:r;n<r&&n>30?(i.lastTouch=null,e.type=t.origType,["clientX","clientY","pageX","pageY"].forEach((function(t){e[t]=e.originalEvent.changedTouches[0][t]})),t.handler.apply(this,arguments)):i.lastTouch=o}}},275:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c}),i(469);var o=i(316),n=i.n(o),r=i(178),a=i(353);let s=n().View.extend({initialize:function(e){this.settings=e||{},this.el.querySelector('[name="id"]').disabled=!1,this.setVariant(),this.onVariantChange(),this.el.addEventListener("submit",(e=>this.onFormSubmit(e)))},events:{change:"onVariantChange"},onFormSubmit:function(e){e.preventDefault(),this.handleErrorMessage();const t={method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/javascript"},body:new FormData(this.el)};fetch(this.el.getAttribute("action"),t).then((e=>e.json())).then((e=>{e.status?((0,r.nY)(r.L1.cartError,{errors:e.errors||e.description,message:e.message}),this.handleErrorMessage(e.description)):((0,r.nY)(r.L1.cartUpdate,e),ORW.enableGTM&&(ORW.marketing=ORW.marketing||new a.Z,ORW.marketing.addToCart(this.el)))}))},handleErrorMessage:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hideErrors||(this.errorMessage=this.errorMessage||this.el.querySelector(".form-errors"),this.errorMessage&&(this.errorMessage.toggleAttribute("hidden",!e),e&&(this.errorMessage.textContent=e)))},onVariantChange:function(){this.updateOptions(),this.updateMasterId(),this.updateVariantStatuses(),this.updateAddButton(),this.currentVariant&&(this.updateVariantInput(),this.settings.updateURL&&this.updateURL())},setVariant:function(){const e=new URLSearchParams(window.location.search),t=this.settings.preSelect?this.getVariantData()[0].id:e.get("variant");t&&(this.currentVariant=this.getVariantData().find((e=>e.id.toString()===t.toString())),this.currentVariant&&this.currentVariant.options.forEach((e=>{this.el.querySelector(`[value="${e}"]`).checked=!0})))},updateAddButton:function(){this.numOptions=this.numOptions||this.el.querySelectorAll("fieldset").length;const e=this.el.querySelector('[name="add"]'),t=this.el.querySelector('[name="add"] > span');e&&(this.currentVariant&&this.currentVariant.available?(e.removeAttribute("disabled"),t.textContent="Add to Cart"):this.currentVariant&&!this.currentVariant.available?(e.setAttribute("disabled","disabled"),t.textContent="Sold Out"):(e.setAttribute("disabled","disabled"),t.textContent=this.options?.length<this.numOptions?"Add to Cart":"Unavailable"))},updateOptions:function(){const e=Array.from(this.el.querySelectorAll("fieldset"));this.options=e.map((e=>Array.from(e.querySelectorAll("input")).find((e=>e.checked))?.value)).filter(Boolean),(0,r.nY)(r.L1.variantOptionsChange,this.options)},updateMasterId:function(){this.currentVariant=this.getVariantData().find((e=>!e.options.map(((e,t)=>this.options[t]===e)).includes(!1))),this.currentVariant&&(0,r.nY)(r.L1.variantChange,this.currentVariant)},updateVariantStatuses:function(){if(!this.el.querySelector(":checked"))return;const e=this.getVariantData().filter((e=>this.el.querySelector(":checked").value===e.option1)),t=[...this.el.querySelectorAll("fieldset")];t.forEach(((i,o)=>{if(0===o)return;const n=[...i.querySelectorAll('input[type="radio"], option')],r=t[o-1].querySelector("[checked],:checked");if(!r)return;const a=e.filter((e=>e.available&&e[`option${o}`]===r.value)).map((e=>e[`option${o+1}`]));this.setInputAvailability(n,a)}))},setInputAvailability:function(e,t){e.forEach((e=>{t.includes(e.getAttribute("value"))?e.classList.remove("disabled"):e.classList.add("disabled")}))},getVariantData:function(){return this.variantData=this.variantData||JSON.parse(this.el.querySelector(".variants-json").textContent),this.variantData},updateVariantInput:function(){this.el.querySelector('input[name="id"]').value=this.currentVariant.id},toggleAddButton:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const i=this.el.querySelector("form.add-to-cart-form");if(!i)return;const o=i.querySelector('[name="add"]'),n=i.querySelector('[name="add"] > span');o&&(e?(o.setAttribute("disabled","disabled"),t&&(n.textContent=t)):(o.removeAttribute("disabled"),n.textContent="Add to Cart"))},updateURL:function(){this.currentVariant&&window.history.replaceState({},"",`${window.location.pathname}?variant=${this.currentVariant.id}`)},destroy:function(){this.undelegateEvents()}});const c={init:function(e){return new s(e)}}},670:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var o=i(609),n=i.n(o),r=i(469),a=i.n(r),s=i(316),c=i.n(s),l=i(860),d=i(590);let u=c().View.extend({initialize:function(e){console.log("init quickshop"),this.quickshop()},events:{},quickshop:function(){var e=this,t=function(i,o){i.stopPropagation(),i.preventDefault();var r=n()(i.currentTarget);if(o=o?ORW.utilities.updateUrlParam(o,"view","quickshop"):r.data("url")?ORW.utilities.updateUrlParam(r.data("url"),"view","quickshop"):ORW.utilities.updateUrlParam(r.attr("href"),"view","quickshop"),console.log(o),"#?view=quickshop"==o)return!1;e.$currentQuickshop&&e.$currentQuickshop.destroy(),n().ajax({async:!0,type:"GET",url:o,cache:!0,error:function(e){console.log(e)},success:function(i){var o=n()(i).find(".product-quickshop"),r=o[0].outerHTML;o.remove(),e.$currentModal?(e.$currentModal.$drawer.find(".product-quickshop").remove(),e.$currentModal.$drawer.find(".drawer-content").append(r),e.$currentQuickshop=new d.Z({el:n()(".product-quickshop .product-detail-container")})):l.Z.init({drawerContent:r,drawerModalId:"QuickShopDrawerModal",triggerEvent:"click",triggerElem:".quick-shop-hidden-trigger",initCallback:function(){e.$currentModal=this,e.$currentModal.openDrawer()},openCallback:function(){e.$currentQuickshop=new d.Z({el:n()(".product-quickshop .product-detail-container")})},closeCallback:function(){e.$currentModal&&(e.$currentModal.destroy(),e.$currentModal=!1)},events:{"ajax-reload-inner":function(e,i){t(e,i)}}})}})},i={"click .quick-shop-trigger":t,"click .quick-shop-trigger-link":t};a().extend(e.events,i),e.delegateEvents()},destroy:function(){this.undelegateEvents()}});const h={init:function(e){return e.el||(e.el=n()("body")),new u(e)}}},224:(e,t,i)=>{"use strict";i.r(t);var o=i(609),n=i.n(o),r=i(978),a=i(590),s=i(670);(0,r.Z)((()=>{n()(".product-detail-container").length&&new a.Z({el:n()(".template-product")}),n()(".product-recommend").length&&s.Z.init({})}))},590:(e,t,i)=>{"use strict";i.d(t,{Z:()=>$});var o=i(609),n=i.n(o),r=i(469),a=i.n(r),s=i(316),c=i.n(s),l=(i(39),i(154),i(275)),d=i(631);i(616);let u=c().View.extend({initialize:function(e){var t=this;t.zoomEngaging=!1,t.zoomInFrame=!0,t.zoomMobilePan=!1,t.$productMedia=t.$el,t.$mainImage=e.mainImage,t.$thumbImage=e.thumbImage,t.buildDesktopZoom(),t.buildMobileZoom()},events:{"click .image-slide:not(.media-video)":"desktopZoomHandle","click #onezoom.opened":"desktopZoomClose","doubletap .image-slide:not(.media-video)":"mobileZoomHandle","doubletap #onezoom-mobile":"mobileZoomHandle","click .onezoom-close":"mobileZoomeOut"},buildDesktopZoom:function(){var e=this;e.$zoomContainer=n()('<div id="onezoom"></div>'),e.$zoomContainer.appendTo(e.$productMedia)},buildMobileZoom:function(){var e=this;e.zoomMobileEngaging=!1,e.$zoomMobileContainer=n()('<div id="onezoom-mobile"><div class="panzoom"></div></div>'),e.$zoomMobileContainer.appendTo(e.$productMedia)},desktopZoomHandle:function(e){var t=this;if(e.preventDefault(),!t.isMobile()){var i=n()(e.currentTarget),o=i.attr("href");if(t.zoomInFrame){function s(e){var t=r.offset(),i=100*(e.pageX-t.left)/r.width()+"% "+100*(e.pageY-t.top)/r.height()+"%";r.css("background-position",i)}if(i.find(".onezoom-frame").length)(r=i.find(".onezoom-frame")).off("mousemove"),r.remove();else{var r=n()('<div class="onezoom-frame loading-image">').appendTo(i);n()("<img/>").attr("src",o).on("load",(function(){n()(this).remove(),s(e),r.removeClass("loading-image"),r.css("background-image","url("+o+")"),r.on("mousemove",(e=>{s(e)}))}))}}else{var a=n()('<img class="zoomed-image" src="'+o+'" />');t.$zoomContainer.html(a),a.on("load",(function(){t.$zoomContainer.removeClass("loading-image")})),t.zoomEngaging||(t.zoomStatus("engage"),t.$zoomContainer.addClass("opened loading-image"))}}},desktopZoomClose:function(e){var t=this;t.$zoomContainer.on("transitionend",(function(){t.$zoomContainer.off("transitionend"),t.$zoomContainer.html(""),t.zoomStatus("disengage")})),t.$zoomContainer.removeClass("opened")},mobileZoomHandle:function(e){var t=this;t.isMobile()&&(t.$zoomMobileEngaging?t.mobileZoomeOut():t.mobileZoomeIn(e))},mobileZoomeIn:function(e){let t=this,i=e,o=n()(e.currentTarget),r=o.find("img"),a=n()(`<img src="${o.attr("href")}" />`);t.$zoomMobileCloseIcon=n()('<div class="onezoom-close"></div>'),t.$zoomMobileContainer.addClass("opened loading-image").find(".panzoom").append(a),t.$zoomMobileContainer.prepend(t.$zoomMobileCloseIcon),e.changedTouches&&(i=e.changedTouches[0]),a.on("load",(function(){t.$zoomMobileContainer.removeClass("loading-image");const e=a?.width()/r?.width(),o={x:(t.$mainImage?.offset().left-i?.pageX)*e+r?.width()/2,y:(t.$mainImage?.offset().top-i?.pageY)*e+r?.height()/2},n=t.$zoomMobileContainer.find(".panzoom").get(0);t.zoomMobilePan=(0,d.Z)(n,{contain:"outside",startScale:1,startX:o.x,startY:o.y})})),this.$zoomMobileEngaging=!0},mobileZoomeOut:function(e){var t=this;if(!this.$zoomMobileContainer)return!1;t.zoomMobilePan&&t.zoomMobilePan.destroy(),t.$zoomMobileContainer.on("transitionend",(function(){t.$zoomMobileContainer.off("transitionend"),t.$zoomMobileContainer.html('<div class="panzoom"></div>'),t.$zoomMobileEngaging=!1})),this.$zoomMobileContainer.removeClass("opened")},zoomStatus:function(e){"engage"==e?(this.zoomEngaging=!0,n()("html").addClass("zooming")):"disengage"==e&&(this.zoomEngaging=!1,n()("html").removeClass("zooming"))},isMobile:function(){return"small"==ORW.responsive},destroy:function(){this.undelegateEvents()}});const h=function(e){return new u(e)};var m=i(860),p=i(495),g=i(907);let f=c().View.extend({initialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.$target=e.el||void 0,t.maxProducts=4,t.cookieKey="recentlyviewed",t.cookieDays=30;let i=t.readCookie();t.$target&&t.renderProducts(i.products),t.recordCookie(i)},events:{},readCookie:function(){let e=ORW.utilities.getCookie(this.cookieKey);return e?JSON.parse(e):{products:[]}},recordCookie:function(e){let t=this;if(-1!==window.location.pathname.indexOf("/products/")){let i=window.location.pathname.match(/\/products\/([a-z0-9\-]+)/)[1],o=e.products.indexOf(i);-1===o?(e.products.unshift(i),e.products=e.products.splice(0,t.maxProducts)):(e.products.splice(o,1),e.products.unshift(i))}ORW.utilities.setCookie(t.cookieKey,JSON.stringify(e),t.cookieDays)},renderProducts:function(e){let t=this;if(!t.$target.is(":empty"))return;let i=e.map((e=>{let t=ORW.utilities.updateUrlParam(`/products/${e}`,"view","thumbnail");return new Promise(((e,i)=>{n().ajax({async:!0,type:"get",url:t}).done((t=>e(n()(t)))).fail((e=>i(e)))}))}));Promise.all(i).then((e=>{t.$target.append(e),ORW.lazyload?.update()})).catch((e=>console.log(e)))}});const v=function(e){return new f(e)};var b=i(353),C=i(178);const $=c().View.extend({initialize:function(e){console.log("init PDP");var t=this;t.$content=t.$el,t.$detailContainer=t.$content.find(".product-detail-container"),t.$media=t.$content.find(".product-media"),t.$mainImage=t.$media.find("#ProductMediaImages"),t.$thumbImage=t.$media.find("#ProductMediaThumbs"),t.$mediaSlider=t.$mainImage.find(".images-wrapper"),t.$thumbSlider=t.$thumbImage.find(".images-wrapper"),t.$productCore=t.$content.find(".product-core"),t.$socialIcons=t.$productCore.find(".one-social"),t.isGiftCard=t.$detailContainer.hasClass("gift-card"),t.productQty=t.$content.find(".product-qty-container"),t.$recentlyViewed=t.$content.find(".recently-viewed .items"),t.$productExtra=t.$content.find(".product-extra"),t.enableMiniCore=!1,t.isScrollingLayout="scrolling"==t.$content.data("layout"),t.isScrollingGrid=t.$content.hasClass("scrolling-grid"),t.isSliderLayout="slider"==t.$content.data("layout"),t.isQuickshopLayout="quickshop"==t.$content.data("layout"),ORW.enableGTM&&(ORW.marketing=ORW.marketing||new b.Z,ORW.marketing.initVariantWatcher(t.$productCore)),t.productCore(),t.productVariants(),t.initPrice(),t.isGiftCard||t.productMedia(),t.isQuickshopLayout||(t.social(),ORW.enableGTM&&ORW.marketing.viewItem(t.$productCore)),t.isGiftCard||t.isQuickshopLayout||(t.zoom(),t.video(),t.accordionsAndTabs(),t.recentlyViewed(),t.tabContent()),l.Z.init({el:t.el.querySelector("form.add-to-cart-form"),preSelect:!0,updateURL:!t.isQuickshopLayout})},events:{"click .read-more"(e){e.preventDefault();var t=e.currentTarget.dataset.scroll;if(null!=t){var i=document.getElementById(t).offsetTop,o=document.getElementById(t);if(o.classList.contains("system-content")){for(var n=document.getElementById("metafields-tabs").offsetTop,r=document.querySelectorAll(".product-extra .system"),a=document.querySelectorAll(".product-extra .system-content"),s=0;s<r.length;++s)r[s].classList.remove("active");for(s=0;s<a.length;++s)a[s].classList.remove("active");o.classList.add("active"),o.closest(".system").classList.add("active"),window.scrollTo({top:n,behavior:"smooth"})}else window.scrollTo({top:i,behavior:"smooth"})}}},productMedia:function(){var e=this;(0,C.Ld)(C.L1.variantChange,(t=>{const i=document.querySelector(".product-detail-container");e.updateVariantImage(t,i)})),e.$mediaSlider.on("init",(function(t,i,o){e.$media.addClass("initialized"),n()(window).resize()})),e.$mediaSlider.slick({dots:!1,infinite:!1,speed:600,slidesToShow:1,arrows:!1,fade:!0,asNavFor:e.$thumbSlider,responsive:[{breakpoint:ORW.responsiveSizes.large,settings:{dots:!0}}]}),"small"==ORW.responsive&&"medium"==ORW.responsive||e.$thumbSlider.slick({infinite:!1,speed:600,dots:!1,slidesToShow:4,slidesToScroll:1,touchThreshold:150,swipeToSlide:!0,verticalSwiping:!0,arrows:!0,vertical:!0,asNavFor:e.$mediaSlider,focusOnSelect:!0,rows:0}),a().extend(e.events,{"click .image-thumbnail":function(e){e.preventDefault()}}),e.delegateEvents()},updateVariantImage:function(e,t){const i="900x",o=e.featured_image,n=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.lastIndexOf(".");if(n>=0){const t=e.substring(0,n),r=e.substring(n+1);return o?t+`_${i}@2x.`+r:t+`_${i}.`+r}return e};if(o){const e=n(o.src,i),r=n(o.src,i,!0),a=t.querySelector(".product-media-images .image-slide"),s=t.querySelector(".product-media-thumbnails .image-thumbnail");if(a){const t=a.querySelector("img"),i=s.querySelector("img"),o=`\n                    ${e}, \n                    ${r} 2x\n                `;a.setAttribute("href",o),s.setAttribute("href",o),t.setAttribute("src",e),i.setAttribute("src",e)}}},initPrice:function(){const e=this.el.querySelectorAll(".price-box");(0,C.Ld)(C.L1.variantChange,(t=>{let i=`<span class="h2 product-price" itemprop="price">${Shopify.formatMoney(t.price,window.theme.moneyFormat)}</span>`;t.compare_at_price&&(i+=`<span class="product-compare-price">${Shopify.formatMoney(t.compare_at_price,window.theme.moneyFormat)}</span>`),e.forEach((e=>{e.innerHTML=i}))}))},initStickyAddToCart:function(){const e=this.el.querySelector(".product-core-inner .add-to-cart-wrapper"),t=this.el.querySelector(".product-form-sticky-container"),i=this.el.querySelector("header.site-header");window.addEventListener("scroll",(()=>{e.getBoundingClientRect().bottom-i.offsetHeight<=0?t.classList.remove("hidden"):t.classList.add("hidden")}))},productCore:function(){var e=this;e.productQuantity(),e.isQuickshopLayout||(e.enableMiniCore&&e.productCoreMini(),e.isScrollingLayout&&!e.isScrollingGrid&&e.productCoreScrollFixing())},productVariants:function(){var e={"click .product-attribute-container .oneswatch-size .swatch":function(e){var t=n()(e.currentTarget),i=Array.from(e.currentTarget.classList).find((function(e){return e.startsWith("swatch-")}));console.log(t),n()(".product-attribute-container").find(".oneswatch-size .swatch.active").removeClass("active"),this.el.querySelectorAll("."+i).forEach((e=>{n()(e).addClass("active")}))},"click .product-attribute-container .oneswatch-shade .swatch":function(e){var t=n()(e.currentTarget),i=Array.from(e.currentTarget.classList).find((function(e){return e.startsWith("swatch-")}));console.log(t),n()(".product-attribute-container").find(".oneswatch-shade .swatch.active").removeClass("active"),n()(".product-attribute-container").find(".oneswatch-size .swatch.active").removeClass("active"),this.el.querySelectorAll("."+i).forEach((e=>{n()(e).addClass("active")}))}};a().extend(this.events,e),this.delegateEvents()},productQuantity:function(){var e=this,t=e.productQty.find(".qty-input[type=number]"),i=(t.data("value"),{"click .product-qty-container .qty-btn":function(e){e.preventDefault(),n()(e.currentTarget).hasClass("plus")?t[0].stepUp():t[0].stepDown(),t.attr("value",t.val())}});a().extend(e.events,i),e.delegateEvents()},productCoreScrollFixing:function(){var e=this;e.$scrollFixingCore=e.$productCore.find(".product-core-inner"),ORW.utilities.mediaCheck((function(){e.$scrollFixingCore.scrollToFixed({zIndex:2,removeOffsets:!0,dontSetWidth:!0,marginTop:function(){return n()("header.site-header").outerHeight()+50},limit:function(){return n()(".scrolling-fix-stopper").offset().top-n()(this).height()}})}),(function(){e.$scrollFixingCore.trigger("detach.ScrollToFixed")}))},productCoreMini:function(){var e=this,t=function(e){console.log("init minicore"),e.scrollToFixed({zIndex:2,removeOffsets:!0,dontSetWidth:!0,triggerAtBottom:!0,marginTop:function(){return-1*n()(this).height()},fixed:function(){n()(this).addClass("fixed-core fadeInUp animated")},unfixed:function(){n()(this).removeClass("fixed-core fadeInUp animated")}})};e.$miniCore=e.$productCore.find(".block-core"),ORW.utilities.mediaCheck((function(){e.$miniCore.trigger("detach.ScrollToFixed"),e.isScrollingLayout&&!e.isScrollingGrid||t(e.$miniCore)}),(function(){e.$miniCore.trigger("detach.ScrollToFixed"),t(e.$miniCore)}))},social:function(){var e=this,t={"click .share-title":function(t){e.$socialIcons.toggleClass("active")}};a().extend(e.events,t),e.delegateEvents()},zoom:function(){var e=this;h({el:e.$media,mainImage:e.$mainImage,thumbImage:e.$thumbImage})},video:function(){var e=this.$media.find(".video-wrapper");g.Z.init({el:e,isResponsive:!1,bgVideo:!1,autoplay:!1})},tabContent:function(){var e=this.$productExtra.find(".video-wrapper");n()(e).each((function(){g.Z.init({el:this,isResponsive:!1,bgVideo:!0,autoplay:!1})}))},accordionsAndTabs:function(){p.Z.init({el:this.$content})},sizeChart:function(){var e=n()("#SizeChartModal")[0].outerHTML;n()("#SizeChartModal").remove(),m.Z.init({drawerContent:e,drawerModalId:"SizeChartDrawerModal",triggerEvent:"click",triggerElem:".size-chart-trigger",initCallback:function(){p.Z.init({el:n()("#SizeChartModal")})},openCallback:function(){},closeCallback:function(){},events:{}})},fullIngredients:function(){var e=n()("#FullIngredientsModal")[0].outerHTML;n()("#FullIngredientsModal").remove(),m.Z.init({drawerContent:e,drawerModalId:"FullIngredientsDrawerModal",triggerEvent:"click",triggerElem:".full-ingredients-trigger",initCallback:function(){},openCallback:function(){},closeCallback:function(){},events:{}})},recentlyViewed:function(){v({el:this.$recentlyViewed})},destroy:function(){this.undelegateEvents()},responsive:function(){ORW.utilities.mediaCheck((function(){}),(function(){}))},isMobile:function(){return"small"==ORW.responsive}})}}]);
//# sourceMappingURL=theme.dda535fa6762647bafba.js.map