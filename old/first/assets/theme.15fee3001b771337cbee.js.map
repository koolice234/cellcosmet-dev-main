{"version":3,"sources":["webpack://project-x/./src/scripts-1r/pages/page-giftcard.js"],"names":["whenDomReady","console","log","$qrCode","$","QRCode","text","attr","width","height","on","window","print","element","evt","document","getElementById","data","range","body","createTextRange","moveToElementText","select","getSelection","selection","createRange","selectNodeContents","removeAllRanges","addRange"],"mappings":"iIAGAA,E,OAAAA,IAAa,KAETC,QAAQC,IAAI,iBAEZ,IAMIC,EAAUC,IAAE,WAEhB,IAAIC,OAAOF,EAAQ,GAAI,CACnBG,KAAMH,EAAQI,KAAK,mBACnBC,MAAO,IACPC,OAAQ,MAGZL,IAZiB,kBAYKM,GAAG,SAAS,WAC9BC,OAAOC,OACX,IAGAR,IAhBkB,mBAgBKM,GAAG,QAAS,CAC/BG,QAAS,mBAGb,SAAoBC,GAChB,IAAIR,EAAOS,SAASC,eAAeF,EAAIG,KAAKJ,SACxCK,EAAQ,GAEZ,GAAIH,SAASI,KAAKC,iBACdF,EAAQH,SAASI,KAAKC,mBAChBC,kBAAkBf,GACxBY,EAAMI,cACH,GAAIX,OAAOY,aAAc,CAC5B,IAAIC,EAAYb,OAAOY,gBACvBL,EAAQH,SAASU,eACXC,mBAAmBpB,GACzBkB,EAAUG,kBACVH,EAAUI,SAASV,EACvB,CACJ,M","file":"assets/theme.15fee3001b771337cbee.js","sourcesContent":["import $ from 'jquery';\nimport whenDomReady from 'when-dom-ready';\n\nwhenDomReady(() => {\n    \n    console.log('init giftcard');\n    \n    var config = {\n        qrCode: '#QrCode',\n        printButton: '#PrintGiftCard',\n        giftCardCode: '.giftcard__code'\n    };\n\n    var $qrCode = $('#QrCode');\n\n    new QRCode($qrCode[0], {\n        text: $qrCode.attr('data-identifier'),\n        width: 120,\n        height: 120\n    });\n\n    $(config.printButton).on('click', function() {\n        window.print();\n    });\n\n    // Auto-select gift card code on click, based on ID passed to the function\n    $(config.giftCardCode).on('click', {\n        element: 'GiftCardDigits'\n    }, selectText);\n\n    function selectText(evt) {\n        var text = document.getElementById(evt.data.element);\n        var range = '';\n\n        if (document.body.createTextRange) {\n            range = document.body.createTextRange();\n            range.moveToElementText(text);\n            range.select();\n        } else if (window.getSelection) {\n            var selection = window.getSelection();\n            range = document.createRange();\n            range.selectNodeContents(text);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        }\n    }\n});\n"],"sourceRoot":""}